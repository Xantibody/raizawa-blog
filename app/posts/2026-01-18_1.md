---
date: 2026-01-18 15:18
title: Rustの勉強[CLI作成編 その2]
category: ぎじゅつ
draft: false
tags:
  - Rust
---

## はじめに

<https://doc.rust-jp.rs/book-ja/>
を読んでいる

- 変な寝かたした

### 今日読む場所

https://doc.rust-jp.rs/book-ja/ch12-01-accepting-command-line-arguments.html#:~:text=main%E3%81%AE%E6%9C%80%E5%88%9D,%E3%81%86

## お勉強

### メモ

- さてcliを作る

```bash
❯ cargo run
   Compiling minigrep v0.1.0 (/Users/ryu.aizawa/Repo/minigrep)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 3.38s
     Running `target/debug/minigrep`
["target/debug/minigrep"]
```

```bash
❯ cargo run needle haystack
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.00s
     Running `target/debug/minigrep needle haystack`
["target/debug/minigrep", "needle", "haystack"]
```

- じゃっかん実行結果が違う気がする
- versionの問題かな
- そういえばJavaも引数を[]で受け取るとかあったな

- OK書いていてわかった
  - vecからそれぞれの引数順を取得していると
  - あまりにも自然で書いていたけど`{:?}`って何だ
  - 本当にdebug中に使うらしい
  - `{:#?}`もあるらしい

```bash
   Compiling minigrep v0.1.0 (/Users/ryu.aizawa/Repo/minigrep)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.41s
     Running `target/debug/minigrep test sample.txt`
Searching for test
In file sample.txt
```

- 動きが理解できてきた

> ベクタを出力した時に確認したように、プログラム名がベクタの最初の値、args[0]を占めているので、 添え字1から始めます。

- まったく気がついてなかったがそうか、なるほどね

```text title="poem.txt"
I'm nobody! Who are you?
Are you nobody, too?
Then there's a pair of us - don't tell!
They'd banish us, you know.

How dreary to be somebody!
How public, like a frog
To tell your name the livelong day
To an admiring bog!

私は誰でもない！あなたは誰？
あなたも誰でもないの？
なら、私たちは組だね、何も言わないで！
あの人たちは、私たちを追放するでしょう。わかりますよね？

誰かでいるなんて侘しいじゃない！
カエルみたいで公すぎるじゃない。
自分の名を長い1日に告げるのなんて。
感服するような沼地にね！
```

- プロジェクトのルートに置いてみた

## まとめ

- 少しずつ進んできた
- やはり手で立ち止まって書くと細かい気付きがあるなと思った
  - vecとか忘れてたけど使って思いだすとか
- 次ここ

https://doc.rust-jp.rs/book-ja/ch12-02-reading-a-file.html#:~:text=%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%82%92%E9%81%A9%E5%BD%93%E3%81%AA%E5%A0%B4%E6%89%80%E3%81%AB%E7%BD%AE%E3%81%84%E3%81%A6%E3%80%81src%2Fmain%2Ers%E3%82%92%E7%B7%A8%E9%9B%86%E3%81%97%E3%80%81%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E9%96%8B%E3%81%8F%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%E3%80%82%20%E3%83%AA%E3%82%B9%E3%83%8812%2D4%E3%81%AB%E7%A4%BA%E3%81%97%E3%81%9F%E3%82%88%E3%81%86%E3%81%AB%E3%81%A7%E3%81%99%E3%81%AD
