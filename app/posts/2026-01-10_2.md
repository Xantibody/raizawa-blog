---
date: 2026-01-10 19:12
title: Blogをバイブコーディングした
categories:
  - ぎじゅつ
draft: false
tags:
  - HonoX
  - Bun
  - Vite
---

## はじめに

- 最近Rustのブログを書き続けていた
- ふと、「Hugo綺麗じゃないし柔軟性がないな。。。」という瞬間が増えた
- 折角だしTSの勉強にもなるから書き直すかとなった

## 結論

- TSの勉強にまったくならなかった
- 満足できるブログが6hぐらいでできてしまった
- バイブコーディング怖い

## 何をしたか

### 要求確認

まず技術選定をした  
要望は以下だった

- とりあえずTSを使いたい
- ハイライトがもう少し綺麗に表示されて欲しい
- 外部OGPを表示できるようにしたい

### 利用技術の選定

以下の技術を利用した
<https://bun.com/>
<https://vite.dev/>
<https://vitest.dev/>
<https://github.com/honojs/honox>

理由は

- 初めは`Astro`を利用する予定であった
- 調査しているところ`HonoX`なるものがあると発見した
- 要件が満せそうなため新しいほうを利用することにした
- ~~yusukebeさんとご飯に行ったのに何も知らなかったのヤバすぎたので触った~~

### マイグレーション作業

該当のPR
<https://github.com/Xantibody/raizawa-blog/pull/32>
Hugoからマイグレーションを行なった  
とはいえ元々markdownで管理していたのでそれを確保して一旦全部消した  
そのあとに、flake.nixに`bun`と`wrangler`を入れただけだった  
あとはひたすらにバイブコーディング

### 新規実装

- 自分の要求を伝えていった
  - ブログをmdファイルで作りたいこと
  - hugoで使われていたmdファイルのtoml記述は変換して良いので使うようにすること
  - ハイライトを綺麗にすること
  - 外部OGPを表示するようにすること
  - とりあえずvitestは雑にでも書いてもらうこと
  - CIでテストを実行するようにすること
    あとはClaude Codeがやってくれてしまった

### つまった部分

そもそもの機能の把握や、アンテナがなかったので調査が大変だった  
たとえばハイライト  
<https://highlightjs.org/>
最初はこちらをすすめられたが、あんまり綺麗ではなく探しまわった
<https://shiki.style/>
そしてShikiに辿りついた  
そこでmarkdown-itに対応しているって書いてあり
<https://shiki.style/packages/markdown-it>
markedを初めにClaude Codeが選定していたのでmarkdown-itに変えた  
こんな感じでつじつまがあうように実装してもらっていった

あとはviteのhotload機能を使いたかったのだが、`Cloudflare Workers`では以下のエラーがでてしまい静的にbuildしなければならなくなった

> ▲ [WARNING] The package "node:async_hooks" wasn't found on the file system but is built into node.

そのため、Claude Codeが更新されたら再ビルドするvite pluginを作ってくれた  
本当にこれでいいのか。。。

## 終わりに

満足のいく出来が再現できてしまったせいで言語のこと、実装のことが何もわからなかった  
現在、Rustを細かく勉強しているからこそ、実装をじっくり見なければなーなど思った  
しかし、表現したいものがすでにあって、それを実現するための手間がなくなると嬉しいなと体感した  
なぜなら、実装そのものを試行錯誤したいわけでなく、その表現そのものが正しいかの試行錯誤がしたいから  
そういう意味では本質的なやりたいことがわかって嬉しくはあった
