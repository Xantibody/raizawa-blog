---
date: 2026-01-04 05:58
title: Rustの勉強[トレイト その3]
categories:
  - ぎじゅつ
draft: false
tags:
  - Rust
---
## はじめに

<https://doc.rust-jp.rs/book-ja/>
を読んでいる

- 最初のやりたいことから合理性を取ったら色々増えていきて良かった
- 自分に合うかどうかわからないので100個はやってみようかな

### 前回の振り返り

- トレイトやってる
  - 思ったより知っている内容が多い
  - 深堀った時のトレイト境界とかわけわからん

### 今日読む場所

- [複数のトレイト境界を+構文で指定する](https://doc.rust-jp.rs/book-ja/ch10-02-traits.html#%E8%A4%87%E6%95%B0%E3%81%AE%E3%83%88%E3%83%AC%E3%82%A4%E3%83%88%E5%A2%83%E7%95%8C%E3%82%92%E6%A7%8B%E6%96%87%E3%81%A7%E6%8C%87%E5%AE%9A%E3%81%99%E3%82%8B)

## お勉強

### メモ

> 複数のトレイト境界も指定できます。
- 何の話してるの...?
- トレイト境界をもうちょっと理解したいね
> impl Trait構文は単純なケースを解決しますが、実はより長いトレイト境界 (trait bound) と呼ばれる姿の糖衣構文 (syntax sugar) なのです。
- impl Traitは単純なケースを解決している、ふむ
- まず`syntax sugar`ってなんだよ
  - [糖衣構文](https://ja.wikipedia.org/wiki/%E7%B3%96%E8%A1%A3%E6%A7%8B%E6%96%87)
  - 簡単に書けるように構文を簡略化したって話ね、はいはい
- ということは、`trait bound`はその中身の詳細説明ってことか、理解

```rust
pub fn notify(item1: &impl Summary, item2: &impl Summary) {
```

> 両方の引数が同じ型であることを強制することは、以下のようにトレイト境界を使ってのみ表現可能です：

```rust
pub fn notify<T: Summary>(item1: &T, item2: &T) {
```

- いいたいことはわかるが、&Tってなんやねん
- とりあえず進めるか
> 複数のトレイト境界を+構文で指定する
> 複数のトレイト境界も指定できます。
- むむ、+とかでてきてしまった
- これは雰囲気でわかっていくしかないな
- geminiと話した、なるほどーーーーーーーーーーーーーーーーーーー
- トレイトはAトレイト、Bトレイトとメソッド群を定義していける
  - これがJavaのinterfaceだとClassそのものに大枠を被せる必要があった
- なのでRustのトレイトは装備品の型のようにA、Bトレイトを装備した`c`structや`c`enumを作成できる
- `d`structはAトレイトのみimplするということも可能
- だから強固な型制約を作成しようとするならば`+構文`みたいなのがでてくると
- かーーーーーーーーーーーーーーーー天才

## まとめ

- トレイトを勘違いしていた
- もっと便利に装備品のイメージで付けたすことができるもの
- そのトレイトを複数条件にして引数にできるので型安全をジェネリクスよりも強固に担保しやすい
- 深いじゃん、トレイト
- 次はここをやる
  - [where句を使ったより明確なトレイト境界](https://doc.rust-jp.rs/book-ja/ch10-02-traits.html#where%E5%8F%A5%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E3%82%88%E3%82%8A%E6%98%8E%E7%A2%BA%E3%81%AA%E3%83%88%E3%83%AC%E3%82%A4%E3%83%88%E5%A2%83%E7%95%8C)
